(()=>{var e={};e.id=702,e.ids=[702],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},9035:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o});var t=a(482),r=a(9108),l=a(2563),i=a.n(l),d=a(8300),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);a.d(s,n);let o=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9468)),"/workspaces/xy-cursos/src/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,1342)),"/workspaces/xy-cursos/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/xy-cursos/src/app/dashboard/page.tsx"],x="/dashboard/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2638:(e,s,a)=>{Promise.resolve().then(a.bind(a,5266))},1498:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},8822:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5266:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>M});var t=a(2295),r=a(3729),l=a(2254),i=a(783),d=a.n(i),n=a(7435),o=a(8822),c=a(782),x=a(4602),m=a(7751),u=a(340),h=a(7060),p=a(9200),b=a(5187),g=a(5904),j=a(3211),f=a(6064),N=a(6755),v=a(6256),y=a(3087),w=a(1456);function _({conquista:e,onClose:s}){let[a,l]=(0,r.useState)(!1),[i,d]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{setTimeout(()=>l(!0),100);let e=setTimeout(()=>{d(!0),setTimeout(s,500)},4e3);return()=>clearTimeout(e)},[s]),t.jsx("div",{className:`fixed top-4 left-1/2 -translate-x-1/2 z-50 transition-all duration-500 ${a&&!i?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"}`,children:t.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-yellow-500 rounded-2xl p-1 shadow-2xl",children:t.jsx("div",{className:"bg-white rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative",children:[t.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center text-3xl animate-bounce",children:e.icone}),t.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-amber-500 rounded-full flex items-center justify-center",children:t.jsx(c.Z,{className:"w-4 h-4 text-white"})})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-amber-600 text-sm font-medium",children:"\uD83C\uDF89 Nova Conquista!"}),t.jsx("p",{className:"text-xl font-black text-gray-900",children:e.titulo}),t.jsx("p",{className:"text-gray-500 text-sm",children:e.descricao}),e.xp_bonus>0&&(0,t.jsxs)("p",{className:"text-amber-600 text-sm font-bold mt-1",children:["+",e.xp_bonus," XP"]})]})]})})})})}/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let q=(0,a(9224).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var k=a(4513),Z=a(1498);async function P(e,s){let{data:a}=await e.from("user_metas").select("*").eq("user_id",s).single();if(a)return a;let{data:t,error:r}=await e.from("user_metas").insert({user_id:s,meta_xp_diario:50,meta_questoes_diario:10,meta_ativa:!0}).select().single();return r?(console.error("Erro ao criar meta:",r),null):t}async function S(e,s){let a=new Date().toISOString().split("T")[0],{data:t}=await e.from("progresso_diario").select("*").eq("user_id",s).eq("data",a).single();if(t)return t;let{data:r,error:l}=await e.from("progresso_diario").insert({user_id:s,data:a,xp_ganho:0,questoes_respondidas:0,questoes_corretas:0}).select().single();return l?(console.error("Erro ao criar progresso:",l),null):r}async function D(e,s,a,t){let{error:r}=await e.from("user_metas").update({meta_xp_diario:a,meta_questoes_diario:t,updated_at:new Date().toISOString()}).eq("user_id",s);return!r}function C(){let e=(0,n.createClientComponentClient)(),[s,a]=(0,r.useState)(!0),[l,i]=(0,r.useState)(null),[d,o]=(0,r.useState)(null),[c,m]=(0,r.useState)(!1),[u,p]=(0,r.useState)(50),[b,j]=(0,r.useState)(10),[f,N]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async function(){let{data:{user:s}}=await e.auth.getUser();if(!s)return;let t=await P(e,s.id),r=await S(e,s.id);t&&(i(t),p(t.meta_xp_diario),j(t.meta_questoes_diario)),r&&o(r),a(!1)})()},[e]);let v=async()=>{let{data:{user:s}}=await e.auth.getUser();s&&(N(!0),await D(e,s.id,u,b)&&(i(e=>e?{...e,meta_xp_diario:u,meta_questoes_diario:b}:null),m(!1)),N(!1))};if(s)return(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100 animate-pulse",children:[t.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),t.jsx("div",{className:"h-4 bg-gray-100 rounded w-full mb-2"}),t.jsx("div",{className:"h-4 bg-gray-100 rounded w-2/3"})]});if(!l||!d)return null;let y=Math.min(d.xp_ganho/l.meta_xp_diario*100,100),w=Math.min(d.questoes_respondidas/l.meta_questoes_diario*100,100),_=(d.meta_xp_cumprida?1:0)+(d.meta_questoes_cumprida?1:0),C=2===_;return c?(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[t.jsx(q,{className:"w-5 h-5 text-gray-500"}),"Configurar Metas"]}),t.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(k.Z,{className:"w-5 h-5 text-gray-400"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta de XP Di\xe1rio"}),(0,t.jsxs)("select",{value:u,onChange:e=>p(Number(e.target.value)),className:"w-full border border-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-violet-500",children:[t.jsx("option",{value:25,children:"25 XP (F\xe1cil)"}),t.jsx("option",{value:50,children:"50 XP (Normal)"}),t.jsx("option",{value:100,children:"100 XP (Desafiador)"}),t.jsx("option",{value:150,children:"150 XP (Hardcore)"}),t.jsx("option",{value:200,children:"200 XP (Insano)"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta de Quest\xf5es Di\xe1rias"}),(0,t.jsxs)("select",{value:b,onChange:e=>j(Number(e.target.value)),className:"w-full border border-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-violet-500",children:[t.jsx("option",{value:5,children:"5 quest\xf5es (F\xe1cil)"}),t.jsx("option",{value:10,children:"10 quest\xf5es (Normal)"}),t.jsx("option",{value:20,children:"20 quest\xf5es (Desafiador)"}),t.jsx("option",{value:30,children:"30 quest\xf5es (Hardcore)"}),t.jsx("option",{value:50,children:"50 quest\xf5es (Insano)"})]})]}),(0,t.jsxs)("button",{onClick:v,disabled:f,className:"w-full bg-violet-500 text-white font-bold py-3 rounded-xl hover:bg-violet-600 disabled:opacity-50 flex items-center justify-center gap-2",children:[t.jsx(Z.Z,{className:"w-5 h-5"}),f?"Salvando...":"Salvar Metas"]})]})]}):(0,t.jsxs)("div",{className:`rounded-2xl p-5 border-2 transition-all ${C?"bg-emerald-50 border-emerald-300":"bg-white border-gray-100"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[t.jsx(g.Z,{className:`w-5 h-5 ${C?"text-emerald-500":"text-violet-500"}`}),"Meta Di\xe1ria",C&&(0,t.jsxs)("span",{className:"bg-emerald-500 text-white text-xs px-2 py-0.5 rounded-full flex items-center gap-1",children:[t.jsx(h.Z,{className:"w-3 h-3"})," Completa!"]})]}),t.jsx("button",{onClick:()=>m(!0),className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(q,{className:"w-4 h-4 text-gray-400"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,t.jsxs)("span",{className:"text-gray-600 flex items-center gap-1",children:[t.jsx(x.Z,{className:"w-4 h-4 text-amber-500"}),"XP do Dia"]}),(0,t.jsxs)("span",{className:`font-bold ${d.meta_xp_cumprida?"text-emerald-600":"text-gray-900"}`,children:[d.xp_ganho,"/",l.meta_xp_diario,d.meta_xp_cumprida&&t.jsx(h.Z,{className:"w-4 h-4 inline ml-1 text-emerald-500"})]})]}),t.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${d.meta_xp_cumprida?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${y}%`}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,t.jsxs)("span",{className:"text-gray-600 flex items-center gap-1",children:[t.jsx(g.Z,{className:"w-4 h-4 text-blue-500"}),"Quest\xf5es do Dia"]}),(0,t.jsxs)("span",{className:`font-bold ${d.meta_questoes_cumprida?"text-emerald-600":"text-gray-900"}`,children:[d.questoes_respondidas,"/",l.meta_questoes_diario,d.meta_questoes_cumprida&&t.jsx(h.Z,{className:"w-4 h-4 inline ml-1 text-emerald-500"})]})]}),t.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${d.meta_questoes_cumprida?"bg-emerald-500":"bg-blue-500"}`,style:{width:`${w}%`}})})]})]}),t.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:C?t.jsx("p",{className:"text-emerald-600 text-sm font-medium text-center",children:"\uD83C\uDF89 Parab\xe9ns! Voc\xea cumpriu todas as metas de hoje!"}):1===_?t.jsx("p",{className:"text-amber-600 text-sm text-center",children:"\uD83D\uDCAA Quase l\xe1! Falta s\xf3 uma meta!"}):t.jsx("p",{className:"text-gray-500 text-sm text-center",children:"\uD83D\uDCDA Continue estudando para bater suas metas!"})})]})}function M(){var e;let s=(0,l.useRouter)(),a=(0,n.createClientComponentClient)(),[i,q]=(0,r.useState)(!0),[k,Z]=(0,r.useState)(""),[P,S]=(0,r.useState)(null),[D,M]=(0,r.useState)(null),[E,$]=(0,r.useState)(0),[T,X]=(0,r.useState)([]),[A,F]=(0,r.useState)({desbloqueadas:0,total:0}),[I,z]=(0,r.useState)([]),[O,R]=(0,r.useState)(null);(0,r.useEffect)(()=>{async function e(e){let{data:s}=await a.from("diagnostico_resultados").select("id").eq("user_id",e).single();return!!s}(async function(){let{data:{user:t}}=await a.auth.getUser();if(!t){s.push("/login");return}Z(t.user_metadata?.nome||t.email?.split("@")[0]||"Estudante");let r=await (0,v.vc)(a,t.id);if(r){S(r);let s=await e(t.id),l=await (0,y.c)(a,t.id,r,s);l.length>0&&(z(l),R(l[0]))}let{data:l}=await a.from("diagnostico_resultados").select("nivel, nota_tri, percentual_geral, created_at").eq("user_id",t.id).single();l&&M(l);let{count:i}=await a.from("caderno_erros").select("*",{count:"exact",head:!0}).eq("user_id",t.id).eq("revisado",!1);$(i||0);let d=await (0,y.Z)(a,t.id),n=d.filter(e=>e.desbloqueada);F({desbloqueadas:n.length,total:d.length}),X(n.sort((e,s)=>new Date(s.desbloqueada_em||0).getTime()-new Date(e.desbloqueada_em||0).getTime()).slice(0,3)),q(!1)})()},[a,s]);let V=P?(0,v.IO)(P.xp_total):null,G=P&&P.questoes_respondidas>0?Math.round(P.questoes_corretas/P.questoes_respondidas*100):0;return i?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsx("div",{className:"w-12 h-12 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[O&&t.jsx(_,{conquista:O,onClose:()=>{let e=I.slice(1);z(e),R(e[0]||null)}}),t.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-xl font-bold text-gray-900",children:["Ol\xe1, ",k,"! \uD83D\uDC4B"]}),t.jsx("p",{className:"text-sm text-gray-500",children:"Continue sua jornada de estudos"})]}),t.jsx(d(),{href:"/perfil",className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:t.jsx(o.Z,{className:"w-5 h-5"})})]})})}),(0,t.jsxs)("main",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[V&&(0,t.jsxs)("div",{className:`bg-gradient-to-r ${(e=V.nivel)>=9?"from-yellow-400 to-amber-500":e>=7?"from-orange-400 to-red-500":e>=5?"from-purple-400 to-pink-500":e>=3?"from-blue-400 to-indigo-500":"from-emerald-400 to-teal-500"} rounded-3xl p-6 text-white shadow-lg`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center",children:t.jsx(c.Z,{className:"w-8 h-8"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-white/80 text-sm",children:["N\xedvel ",V.nivel]}),t.jsx("p",{className:"text-2xl font-black",children:V.titulo})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[t.jsx("p",{className:"text-3xl font-black",children:V.xpTotal}),t.jsx("p",{className:"text-white/80 text-sm",children:"XP Total"})]})]}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-white/80 mb-1",children:[(0,t.jsxs)("span",{children:["Progresso para ",V.proximoNivel]}),(0,t.jsxs)("span",{children:[V.progressoNivel,"%"]})]}),t.jsx("div",{className:"h-3 bg-white/20 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${V.progressoNivel}%`}})}),V.xpParaProximo>0&&(0,t.jsxs)("p",{className:"text-white/70 text-xs mt-1",children:["Faltam ",V.xpParaProximo," XP"]})]}),P&&P.streak_atual>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-4 bg-white/10 rounded-xl px-4 py-2 w-fit",children:[t.jsx(x.Z,{className:"w-5 h-5 text-orange-300"}),(0,t.jsxs)("span",{className:"font-bold",children:[P.streak_atual," dias"]}),t.jsx("span",{className:"text-white/70 text-sm",children:"de streak!"})]})]}),t.jsx(C,{}),t.jsx(w.Z,{}),(0,t.jsxs)(d(),{href:"/conquistas",className:"block bg-white rounded-2xl p-5 border border-gray-100 hover:border-amber-200 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(c.Z,{className:"w-5 h-5 text-amber-500"}),t.jsx("h3",{className:"font-bold text-gray-900",children:"Conquistas"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[A.desbloqueadas,"/",A.total]}),t.jsx(m.Z,{className:"w-5 h-5 text-gray-400"})]})]}),T.length>0?(0,t.jsxs)("div",{className:"flex gap-3",children:[T.map(e=>t.jsx("div",{className:"w-14 h-14 bg-amber-100 rounded-2xl flex items-center justify-center text-2xl",title:e.titulo,children:e.icone},e.id)),A.desbloqueadas>3&&(0,t.jsxs)("div",{className:"w-14 h-14 bg-gray-100 rounded-2xl flex items-center justify-center text-sm text-gray-500 font-bold",children:["+",A.desbloqueadas-3]})]}):t.jsx("p",{className:"text-gray-400 text-sm",children:"Nenhuma conquista ainda. Continue estudando!"})]}),t.jsx(d(),{href:"/relatorio",className:"block bg-white rounded-2xl p-4 border border-gray-100 hover:border-blue-200 transition-all",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:t.jsx(u.Z,{className:"w-6 h-6 text-blue-500"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-bold text-gray-900",children:"Relat\xf3rio Semanal"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"Veja seu desempenho"})]})]}),t.jsx(m.Z,{className:"w-5 h-5 text-gray-400"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-4 border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(h.Z,{className:"w-5 h-5 text-emerald-500"}),t.jsx("span",{className:"text-gray-500 text-sm",children:"Quest\xf5es"})]}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P?.questoes_respondidas||0})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-4 border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(u.Z,{className:"w-5 h-5 text-blue-500"}),t.jsx("span",{className:"text-gray-500 text-sm",children:"Taxa"})]}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[G,"%"]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-4 border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(p.Z,{className:"w-5 h-5 text-amber-500"}),t.jsx("span",{className:"text-gray-500 text-sm",children:"Batalhas"})]}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P?.batalhas_jogadas||0})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-4 border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(b.Z,{className:"w-5 h-5 text-purple-500"}),t.jsx("span",{className:"text-gray-500 text-sm",children:"Perfeitas"})]}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P?.batalhas_perfeitas||0})]})]}),D?t.jsx("div",{className:"bg-white rounded-2xl p-5 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-violet-100 rounded-xl flex items-center justify-center",children:t.jsx(g.Z,{className:"w-6 h-6 text-violet-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-bold text-gray-900",children:["Diagn\xf3stico: ",D.nivel]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Nota TRI: ",D.nota_tri," • ",D.percentual_geral,"% acertos"]})]})]}),t.jsx(d(),{href:"/diagnostico",className:"text-violet-600 hover:text-violet-700",children:t.jsx(m.Z,{className:"w-6 h-6"})})]})}):t.jsx(d(),{href:"/diagnostico",className:"block bg-gradient-to-r from-violet-500 to-purple-500 rounded-2xl p-5 text-white hover:from-violet-600 hover:to-purple-600 transition-all",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(g.Z,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-bold",children:"Fa\xe7a seu Diagn\xf3stico"}),t.jsx("p",{className:"text-white/80 text-sm",children:"Descubra seu n\xedvel em matem\xe1tica"})]})]}),t.jsx(m.Z,{className:"w-6 h-6"})]})}),(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Estudar"}),t.jsx(d(),{href:"/ranking",className:"block bg-gradient-to-r from-yellow-500 to-amber-500 rounded-2xl p-5 text-white hover:from-yellow-600 hover:to-amber-600 transition-all",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(c.Z,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-bold",children:"Ranking"}),t.jsx("p",{className:"text-white/80 text-sm",children:"Veja sua posi\xe7\xe3o"})]})]}),t.jsx(m.Z,{className:"w-6 h-6"})]})}),t.jsx(d(),{href:"/batalha",className:"block bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl p-5 text-white hover:from-amber-600 hover:to-orange-600 transition-all",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(p.Z,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-bold",children:"Batalha R\xe1pida"}),t.jsx("p",{className:"text-white/80 text-sm",children:"5 quest\xf5es • 30s cada • +150 XP"})]})]}),t.jsx(m.Z,{className:"w-6 h-6"})]})}),t.jsx(d(),{href:"/caderno-erros",className:"block bg-white rounded-2xl p-5 border border-gray-100 hover:border-red-200 hover:bg-red-50/50 transition-all",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:t.jsx(j.Z,{className:"w-6 h-6 text-red-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-bold text-gray-900",children:"Caderno de Erros"}),t.jsx("p",{className:"text-gray-500 text-sm",children:E>0?`${E} quest\xf5es para revisar`:"Nenhum erro pendente"})]})]}),E>0&&t.jsx("span",{className:"bg-red-500 text-white text-sm font-bold px-3 py-1 rounded-full",children:E})]})}),t.jsx(d(),{href:"/plataforma/enem",className:"block bg-white rounded-2xl p-5 border border-gray-100 hover:border-blue-200 hover:bg-blue-50/50 transition-all",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:t.jsx(f.Z,{className:"w-6 h-6 text-blue-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-bold text-gray-900",children:"M\xf3dulos ENEM"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"Estude por t\xf3picos"})]})]}),t.jsx(m.Z,{className:"w-6 h-6 text-gray-400"})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-gray-100",children:[(0,t.jsxs)("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(N.Z,{className:"w-5 h-5 text-amber-500"}),"N\xedveis e T\xedtulos"]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:v.Ae.map(e=>(0,t.jsxs)("div",{className:`p-3 rounded-xl text-center ${V&&e.nivel===V.nivel?"bg-amber-100 border-2 border-amber-400":V&&e.nivel<V.nivel?"bg-gray-100":"bg-gray-50 opacity-50"}`,children:[t.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.nivel}),t.jsx("p",{className:"text-xs text-gray-600",children:e.titulo}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:[e.xpNecessario," XP"]})]},e.nivel))})]})]})]})}},3087:(e,s,a)=>{"use strict";async function t(e,s,a,t=!1){let{data:r}=await e.from("conquistas").select("*").eq("ativo",!0);if(!r)return[];let{data:l}=await e.from("user_conquistas").select("conquista_id").eq("user_id",s),i=new Set(l?.map(e=>e.conquista_id)||[]),d=[];for(let l of r){if(i.has(l.id))continue;let r=!1;switch(l.criterio_tipo){case"questoes_respondidas":r=a.questoes_respondidas>=l.criterio_valor;break;case"questoes_corretas":r=a.questoes_corretas>=l.criterio_valor;break;case"batalhas_jogadas":r=a.batalhas_jogadas>=l.criterio_valor;break;case"batalhas_perfeitas":r=a.batalhas_perfeitas>=l.criterio_valor;break;case"streak_atual":r=a.streak_atual>=l.criterio_valor;break;case"xp_total":r=a.xp_total>=l.criterio_valor;break;case"nivel":r=a.nivel>=l.criterio_valor;break;case"diagnostico_completo":r=t}if(r&&(d.push(l),await e.from("user_conquistas").insert({user_id:s,conquista_id:l.id}),l.xp_bonus>0)){let{data:a}=await e.from("user_stats").select("xp_total").eq("user_id",s).single();a&&await e.from("user_stats").update({xp_total:a.xp_total+l.xp_bonus,updated_at:new Date().toISOString()}).eq("user_id",s)}}return d}async function r(e,s){let{data:a}=await e.from("conquistas").select("*").eq("ativo",!0).order("ordem"),{data:t}=await e.from("user_conquistas").select("conquista_id, desbloqueada_em").eq("user_id",s),r=new Map(t?.map(e=>[e.conquista_id,e.desbloqueada_em])||[]);return(a||[]).map(e=>({...e,desbloqueada:r.has(e.id),desbloqueada_em:r.get(e.id)||null}))}a.d(s,{Z:()=>r,c:()=>t})},9468:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let t=(0,a(6843).createProxy)(String.raw`/workspaces/xy-cursos/src/app/dashboard/page.tsx`),{__esModule:r,$$typeof:l}=t,i=t.default}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[73,667,435,776],()=>a(9035));module.exports=t})();