(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{2898:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2265),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),s=(e,t)=>{let r=(0,a.forwardRef)(({color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:o="",children:u,...d},p)=>(0,a.createElement)("svg",{ref:p,...i,width:s,height:s,stroke:r,strokeWidth:c?24*Number(l)/Number(s):l,className:["lucide",`lucide-${n(e)}`,o].join(" "),...d},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r}},2505:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},2457:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},9865:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},3008:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7158:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},1016:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]])},8759:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},2245:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},6654:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},5790:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},8957:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},2549:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},2369:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},366:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a=r(7437),i=r(2265),n=r(3082);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2898).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var l=r(2549),c=r(8759);function o(){let e=(0,n.createClientComponentClient)(),[t,r]=(0,i.useState)(null),[o,u]=(0,i.useState)(!0),[d,p]=(0,i.useState)(!1),m=async()=>{u(!0);let t=new Date,a=new Date(t.getFullYear(),0,0),i=t.getTime()-a.getTime(),{data:n}=await e.from("dicas").select("*").eq("ativo",!0);if(n&&n.length>0){let e=Math.floor(i/864e5)%n.length;r(n[e])}u(!1)},h=async()=>{u(!0);let{data:t}=await e.from("dicas").select("*").eq("ativo",!0);if(t&&t.length>0){let e=Math.floor(Math.random()*t.length);r(t[e])}u(!1)};return((0,i.useEffect)(()=>{m()},[]),o)?(0,a.jsxs)("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 rounded-2xl p-5 border border-amber-200 animate-pulse",children:[(0,a.jsx)("div",{className:"h-6 bg-amber-200 rounded w-1/3 mb-3"}),(0,a.jsx)("div",{className:"h-4 bg-amber-100 rounded w-full mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-amber-100 rounded w-2/3"})]}):t?d?(0,a.jsx)("button",{onClick:()=>p(!1),className:"bg-gradient-to-r from-amber-50 to-yellow-50 rounded-2xl p-4 border border-amber-200 hover:border-amber-300 transition-all w-full text-left",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center text-xl",children:"\uD83D\uDCA1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold text-gray-900",children:"Dica do Dia"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Clique para expandir"})]})]})}):(0,a.jsxs)("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 rounded-2xl p-5 border border-amber-200 relative",children:[(0,a.jsxs)("div",{className:"absolute top-3 right-3 flex items-center gap-1",children:[(0,a.jsx)("button",{onClick:h,className:"p-2 text-amber-600 hover:bg-amber-100 rounded-lg transition-all",title:"Outra dica",children:(0,a.jsx)(s,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>p(!0),className:"p-2 text-amber-600 hover:bg-amber-100 rounded-lg transition-all",title:"Minimizar",children:(0,a.jsx)(l.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center text-2xl shrink-0",children:t.icone}),(0,a.jsxs)("div",{className:"flex-1 pr-16",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-1",children:(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium ".concat((e=>{switch(e){case"aritmetica":return"bg-blue-100 text-blue-700";case"algebra":return"bg-purple-100 text-purple-700";case"geometria":return"bg-emerald-100 text-emerald-700";case"estatistica":return"bg-amber-100 text-amber-700";case"financeira":return"bg-green-100 text-green-700";case"funcoes":return"bg-indigo-100 text-indigo-700";case"sequencias":return"bg-pink-100 text-pink-700";default:return"bg-gray-100 text-gray-700"}})(t.categoria)),children:(e=>{switch(e){case"aritmetica":return"Aritm\xe9tica";case"algebra":return"\xc1lgebra";case"geometria":return"Geometria";case"estatistica":return"Estat\xedstica";case"financeira":return"Mat. Financeira";case"funcoes":return"Fun\xe7\xf5es";case"sequencias":return"Sequ\xeancias";default:return"Dica Geral"}})(t.categoria)})}),(0,a.jsx)("h3",{className:"font-bold text-gray-900 mb-2",children:t.titulo}),(0,a.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:t.conteudo})]})]}),(0,a.jsxs)("div",{className:"mt-4 pt-3 border-t border-amber-200 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-amber-600 text-sm",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Dica do Dia"})]}),(0,a.jsx)("p",{className:"text-amber-500 text-xs",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})})]})]}):null}},6415:function(e,t,r){"use strict";r.d(t,{Ae:function(){return a},IO:function(){return n},qx:function(){return c},vc:function(){return s}});let a=[{nivel:1,xpNecessario:0,titulo:"Iniciante",cor:"gray"},{nivel:2,xpNecessario:100,titulo:"Aprendiz",cor:"green"},{nivel:3,xpNecessario:300,titulo:"Estudante",cor:"blue"},{nivel:4,xpNecessario:600,titulo:"Dedicado",cor:"indigo"},{nivel:5,xpNecessario:1e3,titulo:"Aplicado",cor:"purple"},{nivel:6,xpNecessario:1500,titulo:"Competente",cor:"pink"},{nivel:7,xpNecessario:2200,titulo:"Habilidoso",cor:"orange"},{nivel:8,xpNecessario:3e3,titulo:"Expert",cor:"amber"},{nivel:9,xpNecessario:4e3,titulo:"Mestre",cor:"red"},{nivel:10,xpNecessario:5500,titulo:"Lenda",cor:"yellow"}],i={QUESTAO_FACIL:5,QUESTAO_MEDIA:10,QUESTAO_DIFICIL:15};function n(e){let t=a[0];for(let r of a)if(e>=r.xpNecessario)t=r;else break;let r=a.find(e=>e.nivel===t.nivel+1),i=r?r.xpNecessario-e:0,n=e-t.xpNecessario,s=r?r.xpNecessario-t.xpNecessario:0;return{...t,xpTotal:e,xpParaProximo:i,progressoNivel:s>0?Math.round(n/s*100):100,proximoNivel:(null==r?void 0:r.titulo)||"M\xe1ximo"}}async function s(e,t){let{data:r}=await e.from("user_stats").select("*").eq("user_id",t).single();if(r)return r;let{data:a,error:i}=await e.from("user_stats").insert({user_id:t}).select().single();return i?(console.error("Erro ao criar user_stats:",i),null):a}async function l(e,t,r,a){let i=await s(e,t);if(!i)return null;let l=i.xp_total+r,c=n(l),o=new Date().toISOString().split("T")[0],u=i.ultimo_estudo,d=i.streak_atual,p=i.streak_max;if(u){let e=new Date;e.setDate(e.getDate()-1),u===e.toISOString().split("T")[0]?d+=1:u!==o&&(d=1)}else d=1;return d>p&&(p=d),await e.from("user_stats").update({xp_total:l,nivel:c.nivel,titulo:c.titulo,streak_atual:d,streak_max:p,ultimo_estudo:o,updated_at:new Date().toISOString()}).eq("user_id",t),await e.from("xp_historico").insert({user_id:t,xp_ganho:r,motivo:a}),{xpGanho:r,xpTotal:l,nivelInfo:c,streak:d,subiuNivel:c.nivel>i.nivel}}async function c(e,t,r,a){let n=await s(e,t);if(!n)return null;let c=0;if(r)switch(a){case"facil":c=i.QUESTAO_FACIL;break;case"dificil":c=i.QUESTAO_DIFICIL;break;default:c=i.QUESTAO_MEDIA}return(await e.from("user_stats").update({questoes_respondidas:n.questoes_respondidas+1,questoes_corretas:r?n.questoes_corretas+1:n.questoes_corretas,updated_at:new Date().toISOString()}).eq("user_id",t),c>0)?await l(e,t,c,"Quest\xe3o ".concat(a," correta")):null}},1396:function(e,t,r){e.exports=r(5250)},4033:function(e,t,r){e.exports=r(5313)}}]);