(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[490],{1631:function(e,s,a){Promise.resolve().then(a.bind(a,6260))},6260:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return d}});var r=a(7437),t=a(2265),l=a(4033),o=a(1396),i=a.n(o),n=a(3082);let c={enem:{nome:"XY Matem\xe1tica ENEM",cor:"#3B82F6",icone:"\uD83C\uDF93",subtitulo:"ESTRAT\xc9GIA PARA O ENEM"},olimpico:{nome:"XY Ol\xedmpico",cor:"#F97316",icone:"\uD83C\uDFC6",subtitulo:"TREINAMENTO PARA OLIMP\xcdADAS"},financeiro:{nome:"XY Educa\xe7\xe3o Financeira",cor:"#22C55E",icone:"\uD83D\uDCB0",subtitulo:"DOMINE SUAS FINAN\xc7AS"},ifpi:{nome:"XY Preparat\xf3rio IFPI",cor:"#A855F7",icone:"\uD83C\uDFAF",subtitulo:"SUA VAGA NO INSTITUTO FEDERAL"}};function d(){let e=(0,l.useParams)(),s=(0,l.useRouter)(),a=e.slug,o=c[a],[d,m]=(0,t.useState)("cadastro"),[u,x]=(0,t.useState)(!1),[h,b]=(0,t.useState)(""),[g,p]=(0,t.useState)(""),[f,N]=(0,t.useState)(""),[j,v]=(0,t.useState)(""),[y,w]=(0,t.useState)(""),C=(0,n.createClientComponentClient)();if(!o)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Curso n\xe3o encontrado"}),(0,r.jsx)(i(),{href:"/",className:"text-blue-600 hover:underline",children:"Voltar para a p\xe1gina inicial"})]})});let E=async e=>{let{data:a}=await C.from("profiles").select("onboarding_completo").eq("id",e).single();(null==a?void 0:a.onboarding_completo)?s.push("/dashboard"):s.push("/onboarding")},A=async e=>{e.preventDefault(),x(!0),b(""),p("");try{if("cadastro"===d){let{data:e,error:r}=await C.auth.signUp({email:j,password:y,options:{data:{nome_completo:f}}});if(r)throw r;if(e.user){await new Promise(e=>setTimeout(e,1e3));let{error:r}=await C.from("inscricoes").insert({user_id:e.user.id,plataforma:a});r&&!r.message.includes("duplicate")&&console.error("Erro ao criar inscri\xe7\xe3o:",r),p("Conta criada com sucesso!"),setTimeout(()=>{s.push("/onboarding")},1500)}}else{let{data:e,error:s}=await C.auth.signInWithPassword({email:j,password:y});if(s)throw s;if(e.user){let{data:s}=await C.from("inscricoes").select("id").eq("user_id",e.user.id).eq("plataforma",a).single();s||await C.from("inscricoes").insert({user_id:e.user.id,plataforma:a}),await E(e.user.id)}}}catch(e){console.error("Erro:",e),e.message.includes("Invalid login")?b("Email ou senha incorretos"):e.message.includes("already registered")?(b("Este email j\xe1 est\xe1 cadastrado. Fa\xe7a login."),m("login")):b(e.message||"Ocorreu um erro. Tente novamente.")}finally{x(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen flex bg-gray-50",children:[(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)(i(),{href:"/",className:"flex items-center gap-3 mb-8",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white font-bold text-lg",children:"XY"})}),(0,r.jsx)("span",{className:"font-bold text-xl text-gray-900",children:"XY Cursos"})]}),(0,r.jsx)("div",{className:"p-4 rounded-xl mb-8 bg-white border",style:{borderLeftWidth:"4px",borderLeftColor:o.cor},children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-3xl",children:o.icone}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wider",style:{color:o.cor},children:o.subtitulo}),(0,r.jsx)("div",{className:"text-gray-900 font-bold",children:o.nome})]})]})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"cadastro"===d?"Criar conta":"Entrar"}),(0,r.jsx)("p",{className:"text-gray-500 mb-8",children:"cadastro"===d?"Crie sua conta para acessar o curso":"Entre para continuar seus estudos"}),h&&(0,r.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl mb-6",children:(0,r.jsx)("p",{className:"text-red-600 text-sm",children:h})}),g&&(0,r.jsx)("div",{className:"p-4 bg-emerald-50 border border-emerald-200 rounded-xl mb-6",children:(0,r.jsx)("p",{className:"text-emerald-600 text-sm",children:g})}),(0,r.jsxs)("form",{onSubmit:A,className:"space-y-4",children:["cadastro"===d&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome completo"}),(0,r.jsx)("input",{type:"text",value:f,onChange:e=>N(e.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all",placeholder:"Seu nome"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,r.jsx)("input",{type:"email",value:j,onChange:e=>v(e.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all",placeholder:"seu@email.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),(0,r.jsx)("input",{type:"password",value:y,onChange:e=>w(e.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all",placeholder:"M\xednimo 6 caracteres"})]}),(0,r.jsx)("button",{type:"submit",disabled:u,className:"w-full py-3 rounded-xl font-semibold text-white transition-all hover:opacity-90 disabled:opacity-50",style:{background:o.cor},children:u?"Aguarde...":"cadastro"===d?"Criar conta e acessar curso":"Entrar"})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:"cadastro"===d?(0,r.jsxs)("p",{className:"text-gray-500 text-sm",children:["J\xe1 tem uma conta?"," ",(0,r.jsx)("button",{onClick:()=>m("login"),className:"font-semibold hover:underline",style:{color:o.cor},children:"Fazer login"})]}):(0,r.jsxs)("p",{className:"text-gray-500 text-sm",children:["N\xe3o tem conta?"," ",(0,r.jsx)("button",{onClick:()=>m("cadastro"),className:"font-semibold hover:underline",style:{color:o.cor},children:"Criar conta"})]})}),(0,r.jsx)("div",{className:"mt-8 text-center",children:(0,r.jsx)(i(),{href:"/",className:"text-gray-400 text-sm hover:text-gray-600 transition-colors",children:"← Voltar para a p\xe1gina inicial"})})]})}),(0,r.jsx)("div",{className:"hidden lg:flex flex-1 items-center justify-center p-12",style:{background:"linear-gradient(135deg, ".concat(o.cor,"20 0%, ").concat(o.cor,"05 100%)")},children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-8xl mb-6",children:o.icone}),(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:o.nome}),(0,r.jsx)("p",{className:"text-gray-500 max-w-md",children:"Inscreva-se gratuitamente e comece a estudar agora mesmo. Acompanhe seu progresso e conquiste seus objetivos!"}),(0,r.jsx)("div",{className:"mt-8 grid grid-cols-3 gap-4",children:[{valor:"100%",label:"Gratuito"},{valor:"24/7",label:"Dispon\xedvel"},{valor:"∞",label:"Sem limite"}].map((e,s)=>(0,r.jsxs)("div",{className:"p-4 rounded-xl bg-white/50",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:e.valor}),(0,r.jsx)("div",{className:"text-gray-500 text-sm",children:e.label})]},s))})]})})]})}},1396:function(e,s,a){e.exports=a(5250)},4033:function(e,s,a){e.exports=a(5313)}},function(e){e.O(0,[250,881,971,938,744],function(){return e(e.s=1631)}),_N_E=e.O()}]);