(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{4602:function(e,s,a){Promise.resolve().then(a.bind(a,5910))},5910:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return b}});var t=a(7437),r=a(2265),l=a(4033),i=a(1396),n=a.n(i),d=a(3082),c=a(9865),o=a(2919),m=a(8759),x=a(6637),u=a(3067),h=a(6141),f=a(3008),g=a(8291),j=a(8475),p=a.n(j);function b(){let e=(0,l.useParams)(),s=(0,l.useRouter)(),a=e.id,i=e.aulaId,j=(0,d.createClientComponentClient)(),[b,N]=(0,r.useState)(null),[v,w]=(0,r.useState)(null),[y,_]=(0,r.useState)([]),[Z,k]=(0,r.useState)(!0),[E,S]=(0,r.useState)(!1),[C,I]=(0,r.useState)(null),[q,$]=(0,r.useState)("teoria"),[M,O]=(0,r.useState)(!1);(0,r.useEffect)(()=>{async function e(){let{data:{user:e}}=await j.auth.getUser();if(!e){s.push("/login");return}I(e.id);let{data:t}=await j.from("aulas").select("*").eq("id",i).single();t&&N(t);let{data:r}=await j.from("modulos").select("*").eq("id",a).single();r&&w(r);let{data:l}=await j.from("aulas").select("*").eq("modulo_id",a).eq("ativo",!0).order("ordem",{ascending:!0});l&&_(l);let{data:n}=await j.from("progresso_aulas").select("concluida").eq("user_id",e.id).eq("aula_id",i).single();n&&S(n.concluida),k(!1)}i&&a&&e()},[i,a,j,s]);let V=()=>{if(window.renderMathInElement){let e=document.getElementById("math-container");e&&window.renderMathInElement(e,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})}};(0,r.useEffect)(()=>{M&&b&&setTimeout(V,100)},[M,q,b]);let A=async()=>{if(!C||!i)return;let{error:e}=await j.from("progresso_aulas").upsert({user_id:C,aula_id:i,concluida:!0,updated_at:new Date().toISOString()},{onConflict:"user_id,aula_id"});e||S(!0)},D=y.findIndex(e=>e.id===i),F=D>0?y[D-1]:null,P=D<y.length-1?y[D+1]:null;if(Z)return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"})});if(!b||!v)return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center",children:[(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"Aula n\xe3o encontrada."}),(0,t.jsx)(n(),{href:"/plataforma/enem/modulo/".concat(a),className:"text-blue-600 hover:underline",children:"Voltar"})]});let R=[{id:"teoria",nome:"Teoria",icone:c.Z,conteudo:b.conteudo_teoria},{id:"formulas",nome:"F\xf3rmulas",icone:o.Z,conteudo:b.formulas},{id:"dicas",nome:"Dicas",icone:m.Z,conteudo:b.dicas},{id:"exercicios",nome:"Resolvidos",icone:x.Z,conteudo:b.exercicios_resolvidos}].filter(e=>e.conteudo);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"}),(0,t.jsx)(p(),{src:"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js",strategy:"afterInteractive"}),(0,t.jsx)(p(),{src:"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js",strategy:"afterInteractive",onLoad:()=>O(!0)}),(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(n(),{href:"/plataforma/enem/modulo/".concat(a),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[(0,t.jsx)(u.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Voltar"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:v.titulo}),(0,t.jsxs)("p",{className:"font-bold text-gray-900",children:["Aula ",b.numero,": ",b.titulo]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-500",children:[(0,t.jsx)(h.Z,{className:"w-4 h-4"}),(0,t.jsxs)("span",{className:"text-sm",children:[b.duracao_minutos,"min"]})]})]})})}),(0,t.jsxs)("main",{className:"max-w-4xl mx-auto px-4 py-6",children:[E&&(0,t.jsxs)("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-4 mb-6 flex items-center gap-3",children:[(0,t.jsx)(f.Z,{className:"w-6 h-6 text-emerald-500"}),(0,t.jsx)("p",{className:"text-emerald-700 font-medium",children:"Voc\xea j\xe1 concluiu esta aula!"})]}),R.length>0&&(0,t.jsx)("div",{className:"flex overflow-x-auto gap-2 mb-6 pb-2",children:R.map(e=>{let s=e.icone;return(0,t.jsxs)("button",{onClick:()=>$(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-xl whitespace-nowrap font-medium transition-all ".concat(q===e.id?"bg-blue-500 text-white":"bg-white border border-gray-200 text-gray-600 hover:border-blue-300"),children:[(0,t.jsx)(s,{className:"w-4 h-4"}),e.nome]},e.id)})}),(0,t.jsxs)("div",{id:"math-container",className:"bg-white border border-gray-200 rounded-2xl p-6 mb-6",children:["teoria"===q&&b.conteudo_teoria&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center",children:(0,t.jsx)(c.Z,{className:"w-5 h-5 text-blue-600"})}),(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Teoria"})]}),(0,t.jsx)("div",{className:"text-gray-700 leading-loose whitespace-pre-line",children:b.conteudo_teoria})]}),"formulas"===q&&b.formulas&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-purple-100 flex items-center justify-center",children:(0,t.jsx)(o.Z,{className:"w-5 h-5 text-purple-600"})}),(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"F\xf3rmulas"})]}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl p-6 border border-purple-200",children:(0,t.jsx)("div",{className:"text-gray-800 text-lg leading-loose whitespace-pre-line",children:b.formulas})})]}),"dicas"===q&&b.dicas&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center",children:(0,t.jsx)(m.Z,{className:"w-5 h-5 text-amber-600"})}),(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Dicas e Macetes"})]}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-6",children:(0,t.jsx)("div",{className:"text-gray-700 leading-loose whitespace-pre-line",children:b.dicas})})]}),"exercicios"===q&&b.exercicios_resolvidos&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-emerald-100 flex items-center justify-center",children:(0,t.jsx)(x.Z,{className:"w-5 h-5 text-emerald-600"})}),(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Exerc\xedcios Resolvidos"})]}),(0,t.jsx)("div",{className:"text-gray-700 leading-loose whitespace-pre-line",children:b.exercicios_resolvidos})]}),0===R.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(c.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Conte\xfado em breve!"})]})]}),!E&&(0,t.jsxs)("button",{onClick:A,className:"w-full py-4 rounded-xl bg-emerald-500 text-white font-bold hover:bg-emerald-600 transition-all flex items-center justify-center gap-2 mb-6",children:[(0,t.jsx)(f.Z,{className:"w-5 h-5"}),"Marcar aula como conclu\xedda"]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[F?(0,t.jsxs)(n(),{href:"/plataforma/enem/modulo/".concat(a,"/aula/").concat(F.id),className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-white border border-gray-200 text-gray-600 hover:border-blue-300",children:[(0,t.jsx)(u.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Anterior"})]}):(0,t.jsx)("div",{}),P?(0,t.jsxs)(n(),{href:"/plataforma/enem/modulo/".concat(a,"/aula/").concat(P.id),className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-blue-500 text-white font-medium hover:bg-blue-600",children:["Pr\xf3xima",(0,t.jsx)(g.Z,{className:"w-5 h-5"})]}):(0,t.jsxs)(n(),{href:"/plataforma/enem/modulo/".concat(a),className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-emerald-500 text-white font-medium hover:bg-emerald-600",children:[(0,t.jsx)(f.Z,{className:"w-5 h-5"}),"Voltar ao m\xf3dulo"]})]})]})]})]})}}},function(e){e.O(0,[250,881,70,971,938,744],function(){return e(e.s=4602)}),_N_E=e.O()}]);